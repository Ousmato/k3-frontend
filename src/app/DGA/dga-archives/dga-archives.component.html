<main>
    <div class="col-12">
        <button (click)="add_annee()" class="btn">Ajouter année promotion</button>
    </div>

    <div class="grid-container">
        <div class="grid-item" *ngFor="let annee of annees">
            <div class="section-folder">
                <div class="class-folder">
                    <div class="icon-folder">
                        <fa-icon [icon]="icons.folder" class="icons-style"></fa-icon>
                    </div>
                    <div class="info-folder">
                        <p class="title">Promotion {{annee.ans}}</p>
                        <div class="btn-container">
                             <!-- <span ><fa-icon [icon]="icons.eye"></fa-icon></span> -->
                            <span (click)="show_edit(annee)" ><fa-icon [icon]="icons.edit"></fa-icon></span>
                            <span (click)="delete_annee(annee)" ><fa-icon [icon]="icons.delete"></fa-icon></span>
                        </div>
                      
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="views" *ngIf="is_show">
        <form [formGroup]="form_annee" (ngSubmit)="submit()">
            <h4>Ajouter une année scolaire</h4>
            <div class="form-content">
                <div class="form-group">
                    <label for="">Début d'année :</label>
                    <input type="date" class="form-control" formControlName="debutAnnee" [class.is-invalid]="form_annee.get('debutAnnee')!.invalid && form_annee.get('debutAnnee')!.touched">
                    <span *ngIf="form_annee.controls['debutAnnee'].hasError('required') && form_annee.controls['debutAnnee'].touched"
                        [ngStyle]="{color: 'red'}">
                        Champ obligatoire*
                    </span>
                </div>
                <div class="form-group">
                    <label for="">Fin d'année :</label>
                    <input type="date" class="form-control" formControlName="finAnnee" [class.is-invalid]="form_annee.get('finAnnee')!.invalid && form_annee.get('finAnnee')!.touched">
                    <span *ngIf="form_annee.controls['finAnnee'].hasError('required') && form_annee.controls['finAnnee'].touched"
                        [ngStyle]="{color: 'red'}">
                        Champ obligatoire*
                    </span>
                </div>
                <div class="button-cash">
                    <a (click)="add_annee()" class="submit" ><span>Annuler</span></a>
                    <button class="submit" type="submit" ><span>Enregistre</span></button>
                </div>
            </div>
            
        </form>
    </div>

    <div class="views" *ngIf="is_Edit">
        <form [formGroup]="form_edit" (ngSubmit)="update()">
            <h4>Modifier l'année scolaire</h4>
            <div class="form-content">
                <div class="form-group">
                    <label for="">Début d'année :</label>
                    <input type="number" formControlName="id" *ngIf="false">
                    <input type="date" class="form-control" formControlName="debutAnnee" [class.is-invalid]="form_edit.get('debutAnnee')!.invalid && form_edit.get('debutAnnee')!.touched">
                    <span *ngIf="form_edit.controls['debutAnnee'].hasError('required') && form_edit.controls['debutAnnee'].touched"
                        [ngStyle]="{color: 'red'}">
                        Champ obligatoire*
                    </span>
                </div>
                <div class="form-group">
                    <label >Fin d'année :</label>
                    <input type="date" class="form-control" formControlName="finAnnee" [class.is-invalid]="form_edit.get('finAnnee')!.invalid && form_edit.get('finAnnee')!.touched">
                    <span *ngIf="form_edit.controls['finAnnee'].hasError('required') && form_edit.controls['finAnnee'].touched"
                        [ngStyle]="{color: 'red'}">
                        Champ obligatoire*
                    </span>
                </div>
                <div class="button-cash">
                    <a (click)="close()" class="submit" ><span>Annuler</span></a>
                    <button class="submit" type="submit" ><span>Enregistre</span></button>
                </div>
            </div>
            
        </form>
    </div>

    <div class="views-box" *ngIf="isDelete">
        <h2>Confirmation</h2>
        <div class="form-content">
            <p>Êtes-vous sûr de vouloir effectuer cette action ?</p>
            <div class="button-cash">
                <a (click)="annuler()" class="submit" ><span>Annuler</span></a>
                    <button type="button" (click)="confimed()" ><span>Confirmer</span></button>
            </div>
        </div>
        
    </div>
    
<div class="overlay" *ngIf="overlay"></div>
</main>